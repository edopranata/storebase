import{y as k,C as X,D as W,z as R,E as z,G as S,A as ee,H as ue,F as Q,I as he,J as ye,B as j,K as _e,o as N,c as E,b as a,P as re,L as we,M as Oe,k as Z,a as V,w as L,u as i,i as le,N as ie,l as H,t as U,j as K,O as de,f as ae,X as Se,d as ce,Q as q,n as Re,g as Ce,e as ne,R as Ie,S as Ve}from"./app.8220ec02.js";import{_ as Pe,a as ke}from"./Breadcrumb.55d4f8b7.js";import{o as P,m as Te,u as A,y as De,c as Be,f as Ne,V as Ee,a as Fe,P as J,w as be,t as Y,R as te,p as qe,I as Ae,l as se,b as F,d as Le}from"./transition.e79e32de.js";function $e(e){throw new Error("Unexpected object: "+e)}var T=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(T||{});function Me(e,n){let s=n.resolveItems();if(s.length<=0)return null;let u=n.resolveActiveIndex(),o=u!=null?u:-1,l=(()=>{switch(e.focus){case 0:return s.findIndex(r=>!n.resolveDisabled(r));case 1:{let r=s.slice().reverse().findIndex((g,d,_)=>o!==-1&&_.length-d-1>=o?!1:!n.resolveDisabled(g));return r===-1?r:s.length-1-r}case 2:return s.findIndex((r,g)=>g<=o?!1:!n.resolveDisabled(r));case 3:{let r=s.slice().reverse().findIndex(g=>!n.resolveDisabled(g));return r===-1?r:s.length-1-r}case 4:return s.findIndex(r=>n.resolveId(r)===e.id);case 5:return null;default:$e(e)}})();return l===-1?u:l}function pe(e,n){if(e)return e;let s=n!=null?n:"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function Ue(e,n){let s=k(pe(e.value.type,e.value.as));return X(()=>{s.value=pe(e.value.type,e.value.as)}),W(()=>{var u;s.value||!P(n)||P(n)instanceof HTMLButtonElement&&!((u=P(n))!=null&&u.hasAttribute("type"))&&(s.value="button")}),s}function je({container:e,accept:n,walk:s,enabled:u}){W(()=>{let o=e.value;if(!o||u!==void 0&&!u.value)return;let l=Te(e);if(!l)return;let r=Object.assign(d=>n(d),{acceptNode:n}),g=l.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,r,!1);for(;g.nextNode();)s(g.currentNode)})}function fe(e={},n=null,s=[]){for(let[u,o]of Object.entries(e))xe(s,me(n,u),o);return s}function me(e,n){return e?e+"["+n+"]":n}function xe(e,n,s){if(Array.isArray(s))for(let[u,o]of s.entries())xe(e,me(n,u.toString()),o);else s instanceof Date?e.push([n,s.toISOString()]):typeof s=="boolean"?e.push([n,s?"1":"0"]):typeof s=="string"?e.push([n,s]):typeof s=="number"?e.push([n,`${s}`]):s==null?e.push([n,""]):fe(s,n,e)}function He(e,n,s){let u=k(s==null?void 0:s.value),o=R(()=>e.value!==void 0);return[R(()=>o.value?e.value:u.value),function(l){return o.value||(u.value=l),n==null?void 0:n(l)}]}function ve(e){return[e.screenX,e.screenY]}function Ke(){let e=k([-1,-1]);return{wasMoved(n){let s=ve(n);return e.value[0]===s[0]&&e.value[1]===s[1]?!1:(e.value=s,!0)},update(n){e.value=ve(n)}}}function ze(e,n){return e===n}var Je=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Je||{}),Ge=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ge||{}),Qe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qe||{});let ge=Symbol("ComboboxContext");function G(e){let n=ye(ge,null);if(n===null){let s=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,G),s}return n}let We=z({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ze},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:n,attrs:s,emit:u}){let o=k(1),l=k(null),r=k(null),g=k(null),d=k(null),_=k({static:!1,hold:!1}),w=k([]),O=k(null),I=k(1),D=k(!1);function f(v=x=>x){let x=O.value!==null?w.value[O.value]:null,y=Ae(v(w.value.slice()),C=>P(C.dataRef.domRef)),m=x?y.indexOf(x):null;return m===-1&&(m=null),{options:y,activeOptionIndex:m}}let c=R(()=>e.multiple?1:0),t=R(()=>e.nullable),[b,p]=He(R(()=>e.modelValue===void 0?A(c.value,{[1]:[],[0]:void 0}):e.modelValue),v=>u("update:modelValue",v),R(()=>e.defaultValue)),h={comboboxState:o,value:b,mode:c,compare(v,x){if(typeof e.by=="string"){let y=e.by;return(v==null?void 0:v[y])===(x==null?void 0:x[y])}return e.by(v,x)},defaultValue:R(()=>e.defaultValue),nullable:t,inputRef:r,labelRef:l,buttonRef:g,optionsRef:d,disabled:R(()=>e.disabled),options:w,change(v){p(v)},activeOptionIndex:R(()=>{if(D.value&&O.value===null&&w.value.length>0){let v=w.value.findIndex(x=>!x.dataRef.disabled);if(v!==-1)return v}return O.value}),activationTrigger:I,optionsPropsRef:_,closeCombobox(){D.value=!1,!e.disabled&&o.value!==1&&(o.value=1,O.value=null)},openCombobox(){if(D.value=!0,e.disabled||o.value===0)return;let v=w.value.findIndex(x=>{let y=S(x.dataRef.value);return A(c.value,{[0]:()=>h.compare(S(h.value.value),S(y)),[1]:()=>S(h.value.value).some(m=>h.compare(S(m),S(y)))})});v!==-1&&(O.value=v),o.value=0},goToOption(v,x,y){if(D.value=!1,e.disabled||d.value&&!_.value.static&&o.value===1)return;let m=f();if(m.activeOptionIndex===null){let B=m.options.findIndex(oe=>!oe.dataRef.disabled);B!==-1&&(m.activeOptionIndex=B)}let C=Me(v===T.Specific?{focus:T.Specific,id:x}:{focus:v},{resolveItems:()=>m.options,resolveActiveIndex:()=>m.activeOptionIndex,resolveId:B=>B.id,resolveDisabled:B=>B.dataRef.disabled});O.value=C,I.value=y!=null?y:1,w.value=m.options},selectOption(v){let x=w.value.find(m=>m.id===v);if(!x)return;let{dataRef:y}=x;p(A(c.value,{[0]:()=>y.value,[1]:()=>{let m=S(h.value.value).slice(),C=S(y.value),B=m.findIndex(oe=>h.compare(C,S(oe)));return B===-1?m.push(C):m.splice(B,1),m}}))},selectActiveOption(){if(h.activeOptionIndex.value===null)return;let{dataRef:v,id:x}=w.value[h.activeOptionIndex.value];p(A(c.value,{[0]:()=>v.value,[1]:()=>{let y=S(h.value.value).slice(),m=S(v.value),C=y.findIndex(B=>h.compare(m,S(B)));return C===-1?y.push(m):y.splice(C,1),y}})),h.goToOption(T.Specific,x)},registerOption(v,x){let y={id:v,dataRef:x},m=f(C=>[...C,y]);if(O.value===null){let C=x.value.value;A(c.value,{[0]:()=>h.compare(S(h.value.value),S(C)),[1]:()=>S(h.value.value).some(B=>h.compare(S(B),S(C)))})&&(m.activeOptionIndex=m.options.indexOf(y))}w.value=m.options,O.value=m.activeOptionIndex,I.value=1},unregisterOption(v){let x=f(y=>{let m=y.findIndex(C=>C.id===v);return m!==-1&&y.splice(m,1),y});w.value=x.options,O.value=x.activeOptionIndex,I.value=1}};De([r,g,d],()=>h.closeCombobox(),R(()=>o.value===0)),_e(ge,h),Be(R(()=>A(o.value,{[0]:se.Open,[1]:se.Closed})));let $=R(()=>h.activeOptionIndex.value===null?null:w.value[h.activeOptionIndex.value].dataRef.value),M=R(()=>{var v;return(v=P(r))==null?void 0:v.closest("form")});return X(()=>{ee([M],()=>{if(!M.value||e.defaultValue===void 0)return;function v(){h.change(e.defaultValue)}return M.value.addEventListener("reset",v),()=>{var x;(x=M.value)==null||x.removeEventListener("reset",v)}},{immediate:!0})}),()=>{let{name:v,disabled:x,...y}=e,m={open:o.value===0,disabled:x,activeIndex:h.activeOptionIndex.value,activeOption:$.value,value:b.value};return ue(Q,[...v!=null&&b.value!=null?fe({[v]:b.value}).map(([C,B])=>ue(Ne,Ee({features:Fe.Hidden,key:C,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:C,value:B}))):[],J({theirProps:{...s,...be(y,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:m,slots:n,attrs:s,name:"Combobox"})])}}});z({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-combobox-label-${Y()}`}},setup(e,{attrs:n,slots:s}){let u=G("ComboboxLabel");function o(){var l;(l=P(u.inputRef))==null||l.focus({preventScroll:!0})}return()=>{let l={open:u.comboboxState.value===0,disabled:u.disabled.value},{id:r,...g}=e,d={id:r,ref:u.labelRef,onClick:o};return J({ourProps:d,theirProps:g,slot:l,attrs:n,slots:s,name:"ComboboxLabel"})}}});let Xe=z({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${Y()}`}},setup(e,{attrs:n,slots:s,expose:u}){let o=G("ComboboxButton");u({el:o.buttonRef,$el:o.buttonRef});function l(d){o.disabled.value||(o.comboboxState.value===0?o.closeCombobox():(d.preventDefault(),o.openCombobox()),j(()=>{var _;return(_=P(o.inputRef))==null?void 0:_.focus({preventScroll:!0})}))}function r(d){switch(d.key){case F.ArrowDown:d.preventDefault(),d.stopPropagation(),o.comboboxState.value===1&&o.openCombobox(),j(()=>{var _;return(_=o.inputRef.value)==null?void 0:_.focus({preventScroll:!0})});return;case F.ArrowUp:d.preventDefault(),d.stopPropagation(),o.comboboxState.value===1&&(o.openCombobox(),j(()=>{o.value.value||o.goToOption(T.Last)})),j(()=>{var _;return(_=o.inputRef.value)==null?void 0:_.focus({preventScroll:!0})});return;case F.Escape:if(o.comboboxState.value!==0)return;d.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&d.stopPropagation(),o.closeCombobox(),j(()=>{var _;return(_=o.inputRef.value)==null?void 0:_.focus({preventScroll:!0})});return}}let g=Ue(R(()=>({as:e.as,type:n.type})),o.buttonRef);return()=>{var d,_;let w={open:o.comboboxState.value===0,disabled:o.disabled.value,value:o.value.value},{id:O,...I}=e,D={ref:o.buttonRef,id:O,type:g.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(d=P(o.optionsRef))==null?void 0:d.id,"aria-expanded":o.disabled.value?void 0:o.comboboxState.value===0,"aria-labelledby":o.labelRef.value?[(_=P(o.labelRef))==null?void 0:_.id,O].join(" "):void 0,disabled:o.disabled.value===!0?!0:void 0,onKeydown:r,onClick:l};return J({ourProps:D,theirProps:I,slot:w,attrs:n,slots:s,name:"ComboboxButton"})}}}),Ye=z({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${Y()}`}},emits:{change:e=>!0},setup(e,{emit:n,attrs:s,slots:u,expose:o}){let l=G("ComboboxInput"),r={value:!1};o({el:l.inputRef,$el:l.inputRef});let g=R(()=>{var t;let b=l.value.value;return P(l.inputRef)?typeof e.displayValue<"u"&&b!==void 0?(t=e.displayValue(b))!=null?t:"":typeof b=="string"?b:"":""});X(()=>{ee([g,l.comboboxState],([t,b],[p,h])=>{if(r.value)return;let $=P(l.inputRef);!$||(h===0&&b===1||t!==p)&&($.value=t)},{immediate:!0})});let d=k(!1);function _(){d.value=!0}function w(){setTimeout(()=>{d.value=!1})}function O(t){switch(r.value=!0,t.key){case F.Backspace:case F.Delete:if(l.mode.value!==0||!l.nullable.value)return;let b=t.currentTarget;requestAnimationFrame(()=>{if(b.value===""){l.change(null);let p=P(l.optionsRef);p&&(p.scrollTop=0),l.goToOption(T.Nothing)}});break;case F.Enter:if(r.value=!1,l.comboboxState.value!==0||d.value)return;if(t.preventDefault(),t.stopPropagation(),l.activeOptionIndex.value===null){l.closeCombobox();return}l.selectActiveOption(),l.mode.value===0&&l.closeCombobox();break;case F.ArrowDown:return r.value=!1,t.preventDefault(),t.stopPropagation(),A(l.comboboxState.value,{[0]:()=>l.goToOption(T.Next),[1]:()=>l.openCombobox()});case F.ArrowUp:return r.value=!1,t.preventDefault(),t.stopPropagation(),A(l.comboboxState.value,{[0]:()=>l.goToOption(T.Previous),[1]:()=>{l.openCombobox(),j(()=>{l.value.value||l.goToOption(T.Last)})}});case F.Home:if(t.shiftKey)break;return r.value=!1,t.preventDefault(),t.stopPropagation(),l.goToOption(T.First);case F.PageUp:return r.value=!1,t.preventDefault(),t.stopPropagation(),l.goToOption(T.First);case F.End:if(t.shiftKey)break;return r.value=!1,t.preventDefault(),t.stopPropagation(),l.goToOption(T.Last);case F.PageDown:return r.value=!1,t.preventDefault(),t.stopPropagation(),l.goToOption(T.Last);case F.Escape:if(r.value=!1,l.comboboxState.value!==0)return;t.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&t.stopPropagation(),l.closeCombobox();break;case F.Tab:if(r.value=!1,l.comboboxState.value!==0)return;l.mode.value===0&&l.selectActiveOption(),l.closeCombobox();break}}function I(t){n("change",t)}function D(t){l.openCombobox(),n("change",t)}function f(){r.value=!1}let c=R(()=>{var t,b,p,h;return(h=(p=(b=e.defaultValue)!=null?b:l.defaultValue.value!==void 0?(t=e.displayValue)==null?void 0:t.call(e,l.defaultValue.value):null)!=null?p:l.defaultValue.value)!=null?h:""});return()=>{var t,b,p,h,$,M;let v={open:l.comboboxState.value===0},{id:x,displayValue:y,...m}=e,C={"aria-controls":(t=l.optionsRef.value)==null?void 0:t.id,"aria-expanded":l.disabled.value?void 0:l.comboboxState.value===0,"aria-activedescendant":l.activeOptionIndex.value===null||(b=l.options.value[l.activeOptionIndex.value])==null?void 0:b.id,"aria-multiselectable":l.mode.value===1?!0:void 0,"aria-labelledby":($=(p=P(l.labelRef))==null?void 0:p.id)!=null?$:(h=P(l.buttonRef))==null?void 0:h.id,id:x,onCompositionstart:_,onCompositionend:w,onKeydown:O,onChange:I,onInput:D,onBlur:f,role:"combobox",type:(M=s.type)!=null?M:"text",tabIndex:0,ref:l.inputRef,defaultValue:c.value};return J({ourProps:C,theirProps:m,slot:v,attrs:s,slots:u,features:te.RenderStrategy|te.Static,name:"ComboboxInput"})}}}),Ze=z({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:n,slots:s,expose:u}){let o=G("ComboboxOptions"),l=`headlessui-combobox-options-${Y()}`;u({el:o.optionsRef,$el:o.optionsRef}),W(()=>{o.optionsPropsRef.value.static=e.static}),W(()=>{o.optionsPropsRef.value.hold=e.hold});let r=qe(),g=R(()=>r!==null?r.value===se.Open:o.comboboxState.value===0);return je({container:R(()=>P(o.optionsRef)),enabled:R(()=>o.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}}),()=>{var d,_,w,O;let I={open:o.comboboxState.value===0},D={"aria-activedescendant":o.activeOptionIndex.value===null||(d=o.options.value[o.activeOptionIndex.value])==null?void 0:d.id,"aria-labelledby":(O=(_=P(o.labelRef))==null?void 0:_.id)!=null?O:(w=P(o.buttonRef))==null?void 0:w.id,id:l,ref:o.optionsRef,role:"listbox"},f=be(e,["hold"]);return J({ourProps:D,theirProps:f,slot:I,attrs:n,slots:s,features:te.RenderStrategy|te.Static,visible:g.value,name:"ComboboxOptions"})}}}),et=z({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:n,attrs:s,expose:u}){let o=G("ComboboxOption"),l=`headlessui-combobox-option-${Y()}`,r=k(null);u({el:r,$el:r});let g=R(()=>o.activeOptionIndex.value!==null?o.options.value[o.activeOptionIndex.value].id===l:!1),d=R(()=>A(o.mode.value,{[0]:()=>o.compare(S(o.value.value),S(e.value)),[1]:()=>S(o.value.value).some(t=>o.compare(S(t),S(e.value)))})),_=R(()=>({disabled:e.disabled,value:e.value,domRef:r}));X(()=>o.registerOption(l,_)),he(()=>o.unregisterOption(l)),W(()=>{o.comboboxState.value===0&&(!g.value||o.activationTrigger.value!==0&&j(()=>{var t,b;return(b=(t=P(r))==null?void 0:t.scrollIntoView)==null?void 0:b.call(t,{block:"nearest"})}))});function w(t){if(e.disabled)return t.preventDefault();o.selectOption(l),o.mode.value===0&&o.closeCombobox()}function O(){if(e.disabled)return o.goToOption(T.Nothing);o.goToOption(T.Specific,l)}let I=Ke();function D(t){I.update(t)}function f(t){!I.wasMoved(t)||e.disabled||g.value||o.goToOption(T.Specific,l,0)}function c(t){!I.wasMoved(t)||e.disabled||!g.value||o.optionsPropsRef.value.hold||o.goToOption(T.Nothing)}return()=>{let{disabled:t}=e,b={active:g.value,selected:d.value,disabled:t},p={id:l,ref:r,role:"option",tabIndex:t===!0?void 0:-1,"aria-disabled":t===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:w,onFocus:O,onPointerenter:D,onMouseenter:D,onPointermove:f,onMousemove:f,onPointerleave:c,onMouseleave:c};return J({ourProps:p,theirProps:e,slot:b,attrs:s,slots:n,name:"ComboboxOption"})}}});function tt(e,n){return N(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}function ot(e,n){return N(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z","clip-rule":"evenodd"})])}const lt=a("title",null,"Inventory Product",-1),at={class:"px-4 grid gap-4"},nt={class:"grid"},st={class:"card w-full rounded-none border-2 border-info shadow-xl"},ut={class:"card-body"},rt={class:"grid grid-cols-4 gap-4"},it={class:"form-control w-full"},dt=a("label",{class:"label"},[a("span",{class:"label-text"},"Tanggal")],-1),ct={class:"flex"},pt=["value"],vt={class:"form-control w-full"},bt=a("label",{class:"label"},[a("span",{class:"label-text"},"Supplier")],-1),ft=["disabled","value"],mt={class:"form-control w-full"},xt=a("label",{class:"label"},[a("span",{class:"label-text"},"Invoice Number")],-1),gt=["disabled","value"],ht={class:"px-4 grid gap-4 mt-4"},yt={class:"grid"},_t={class:"card w-full rounded-none border-2 border-info shadow-xl"},wt={class:"card-body"},Ot={class:"grid grid-cols-3 gap-4"},St={class:"form-control w-full"},Rt=a("label",{class:"label"},[a("span",{class:"label-text"},"Total Pembayaran")],-1),Ct={class:"form-control w-full"},It=a("label",{class:"label"},[a("span",{class:"label-text"},"Jumlah Pembayaran")],-1),Vt={class:"form-control w-full"},Pt=a("label",{class:"label"},[a("span",{class:"label-text"},"Sisa Tagihan")],-1),kt={class:"card-actions justify-end mt-4"},Tt={class:"px-4 grid gap-4 mt-4"},Dt={class:"grid"},Bt={class:"card w-full rounded-none border-2 border-info shadow-xl"},Nt={class:"card-body"},Et={class:"min-w-full"},Ft={class:"my-2"},qt={key:0,class:"text-sm text-error"},At={key:1,class:"text-sm text-error"},Lt={key:2,class:"text-sm text-error"},$t={class:"form-control w-full mb-4"},Mt=a("label",{class:"label"},[a("span",{class:"label-text text-2xl font-bold"},"Cari Produk (Barcode / Nama Produk)")],-1),Ut={class:"relative mt-1"},jt={class:"relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left shadow-md sm:text-sm"},Ht={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},Kt={key:0,class:"w-full text-left text-base min-w-4xl"},zt=a("thead",{class:"text-sm uppercase bg-primary/20"},[a("tr",null,[a("th",{class:"py-3 px-6"},"#"),a("th",{class:"py-3 px-6"},"Product"),a("th",{class:"py-3 px-6 w-32"},"Jumlah Beli"),a("th",{class:"py-3 px-6"},"Satuan"),a("th",{class:"py-3 px-6"},"Quantity Terkecil"),a("th",{class:"py-3 px-6"},"Harga Modal"),a("th",{class:"py-3 px-6"},"Total"),a("th",{class:"py-3 px-6"},"Hapus")])],-1),Jt={class:"hover:cursor-pointer group border-b"},Gt={class:"group-hover:bg-base-300 py-2 px-4 text-sm"},Qt={class:"group-hover:bg-base-300 py-2 px-4 text-sm"},Wt={class:"group-hover:bg-base-300 py-2 px-4"},Xt={class:"group-hover:bg-base-300 py-2 px-4"},Yt=["onUpdate:modelValue","onChange"],Zt=["value","selected"],eo={class:"group-hover:bg-base-300 py-2 px-4"},to={class:"group-hover:bg-base-300 py-2 px-4"},oo=["data-tip"],lo={class:"relative mt-1 rounded-md shadow-sm"},ao={class:"group-hover:bg-base-300 py-2 px-4"},no={class:"group-hover:bg-base-300 py-2 px-4"},so=["onClick"],co={__name:"InventoryRequestCreate",props:{purchases:Object},setup(e){const n=e,s=[{url:route("app.index"),label:"Beranda"},{url:route("app.inventory.index"),label:"Inventory"},{url:null,label:"Inventory Product"}],u=re({product_price_id:[],product_price_quantity:[],quantity:[],buying_price:[],total:[]}),o=we({products:[],data:n.purchases}),l=re({purchase_id:n.purchases.id,bill:"",payment:"",fund:""});let r=k(),g=k("");ee(g,Oe.exports.debounce(function(f){f?Z.post(route("app.request.get.product"),{search:f},{preserveState:!0,replace:!0}).then(function(c){o.products=c.data}):o.products=[]},300),{deep:!0}),ee(()=>Ve.cloneDeep(l),(f,c)=>{f&&(l.fund=f.bill-f.payment)});const d=async f=>{await Z.post(route("app.inventory.request.product.add",n.purchases.id),{product_id:f}).then(c=>{o.data=c.data,I(c.data)})},_=async f=>{await Z.delete(route("app.inventory.request.product.delete",f)).then(c=>{o.data=c.data,I(c.data)})},w=async f=>{let c={product_price_id:u.product_price_id[f],quantity:u.quantity[f],buying_price:u.buying_price[f]};await Z.patch(route("app.inventory.request.product.update",f),c).then(t=>{o.data=t.data,I(t.data)})},O=()=>{l.delete(route("app.inventory.request.destroy",n.purchases.id))},I=f=>{f.details.forEach((t,b)=>{u.product_price_quantity[t.id]=t.product_price_quantity,u.product_price_id[t.id]=t.product_price_id,u.quantity[t.id]=t.quantity,u.buying_price[t.id]=t.buying_price,u.total[t.id]=t.total});let c=f.details.reduce((t,b)=>(t.push(b.total),t),[]);l.bill=c.reduce((t,b)=>t+=b,0)},D=f=>{let c=f.product.stocks[f.product.stocks.length-1];return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(c.buying_price)};return X(()=>{I(o.data)}),(f,c)=>(N(),E(Q,null,[V(i(Se),null,{default:L(()=>[lt]),_:1}),V(ke,{links:s}),V(Pe,{classes:"bg-base-content",class:""},{default:L(()=>[ce("Inventory Product")]),_:1}),a("section",at,[a("div",nt,[a("div",st,[a("div",ut,[a("div",rt,[a("div",it,[dt,a("div",ct,[a("input",{type:"date",disabled:"",value:n.purchases.invoice_date,class:"input input-bordered rounded-none w-full"},null,8,pt)])]),a("div",vt,[bt,a("input",{disabled:n.purchases,value:n.purchases.supplier_name,class:"input input-bordered rounded-none"},null,8,ft)]),a("div",mt,[xt,a("input",{disabled:n.purchases,value:n.purchases.invoice_number,class:"input input-bordered rounded-none"},null,8,gt)]),a("div",{class:"form-control w-full"},[a("button",{type:"button",onClick:O,class:"mt-9 btn btn-error"},"Batalkan Transaksi")])])])])])]),le(a("section",ht,[a("div",yt,[a("div",_t,[a("div",wt,[a("div",Ot,[a("div",St,[Rt,V(i(q),H({disabled:"",modelValue:i(l).bill,"onUpdate:modelValue":c[0]||(c[0]=t=>i(l).bill=t)},{decimal:".",separator:",",prefix:"Rp ",masked:!1},{class:"input input-bordered rounded-none"}),null,16,["modelValue"])]),a("div",Ct,[It,V(i(q),H({modelValue:i(l).payment,"onUpdate:modelValue":c[1]||(c[1]=t=>i(l).payment=t)},i(q),{class:"input input-bordered rounded-none"}),null,16,["modelValue"])]),a("div",Vt,[Pt,V(i(q),H({modelValue:i(l).fund,"onUpdate:modelValue":c[2]||(c[2]=t=>i(l).fund=t)},i(q),{disabled:n.purchases,class:"input input-bordered rounded-none"}),null,16,["modelValue","disabled"])])]),a("div",kt,[V(i(Re),{as:"button",href:f.route("app.inventory.request.show",n.purchases.id),class:"btn btn-primary"},{default:L(()=>[ce("Preview Inventory")]),_:1},8,["href"])])])])])],512),[[ie,n.purchases]]),le(a("section",Tt,[a("div",Dt,[a("div",Bt,[a("div",Nt,[a("div",Et,[a("div",Ft,[i(u).errors.quantity?(N(),E("div",qt,U(i(u).errors.quantity),1)):K("",!0),i(u).errors.product_price_id?(N(),E("div",At,U(i(u).errors.product_price_id),1)):K("",!0),i(u).errors.buying_price?(N(),E("div",Lt,U(i(u).errors.buying_price),1)):K("",!0)]),a("div",$t,[Mt,V(i(We),{modelValue:i(r),"onUpdate:modelValue":c[5]||(c[5]=t=>de(r)?r.value=t:r=t)},{default:L(()=>[a("div",Ut,[a("div",jt,[V(i(Ye),{class:"w-full border-2 rounded-lg py-2 pl-3 pr-10 text-3xl leading-5 text-gray-900",onChange:c[3]||(c[3]=t=>de(g)?g.value=t.target.value:g=t.target.value)}),V(i(Xe),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:L(()=>[V(i(ot),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),V(i(Le),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:c[4]||(c[4]=t=>d(i(r).id))},{default:L(()=>[V(i(Ze),{class:"absolute z-40 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:L(()=>[o.products.length===0&&i(g)!==""?(N(),E("div",Ht," Nothing found. ")):K("",!0),(N(!0),E(Q,null,ae(o.products,t=>(N(),Ce(i(et),{as:"template",key:t.id,value:t},{default:L(({selected:b,active:p})=>[a("li",{class:ne(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":p,"text-gray-900":!p}])},[a("span",{class:ne(["block truncate",{"font-medium":b,"font-normal":!b}])},U(t.name),3),b?(N(),E("span",{key:0,class:ne(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":p,"text-teal-600":!p}])},[V(i(tt),{class:"h-5 w-5","aria-hidden":"true"})],2)):K("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),i(u).product_price_id.length?(N(),E("table",Kt,[zt,a("tbody",null,[(N(!0),E(Q,null,ae(o.data.details,(t,b)=>(N(),E("tr",Jt,[a("td",Gt,U(b+1),1),a("td",Qt,U(t.product_name),1),a("td",Wt,[V(i(q),{modelValue:i(u).quantity[t.id],"onUpdate:modelValue":p=>i(u).quantity[t.id]=p,onFocusout:p=>w(t.id),class:"w-32 rounded-md border-gray-300 pl-8 pr-4 text-right focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue","onUpdate:modelValue","onFocusout"])]),a("td",Xt,[le(a("select",{"onUpdate:modelValue":p=>i(u).product_price_id[t.id]=p,onChange:p=>w(t.id),class:"mt-1 w-32 rounded-md border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"},[(N(!0),E(Q,null,ae(t.product.prices,(p,h)=>(N(),E("option",{value:p.id,selected:t.product_price_id=p.id},U(p.unit.name),9,Zt))),256))],40,Yt),[[Ie,i(u).product_price_id[t.id]]])]),a("td",eo,[V(i(q),H({modelValue:i(u).product_price_quantity[t.id],"onUpdate:modelValue":p=>i(u).product_price_quantity[t.id]=p},{decimal:".",separator:",",suffix:" @ "+t.product.unit.name,masked:!1},{class:"w-32 rounded-md border-gray-300 pl-8 pr-4 text-right focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),null,16,["modelValue","onUpdate:modelValue"])]),a("td",to,[a("div",{class:"tooltip tooltip-success tooltip-left","data-tip":"Harga beli terakhir "+D(t)},[a("div",lo,[V(i(q),H({modelValue:i(u).buying_price[t.id],"onUpdate:modelValue":p=>i(u).buying_price[t.id]=p},{decimal:".",separator:",",prefix:"Rp ",masked:!1},{onFocusout:p=>w(t.id),class:"w-48 rounded-md border-gray-300 pl-8 pr-4 text-right focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),null,16,["modelValue","onUpdate:modelValue","onFocusout"])])],8,oo)]),a("td",ao,[V(i(q),H({modelValue:i(u).total[t.id],"onUpdate:modelValue":p=>i(u).total[t.id]=p},{decimal:".",separator:",",prefix:"Rp ",masked:!1},{class:"w-48 rounded-md border-gray-300 pl-8 pr-4 text-right focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),null,16,["modelValue","onUpdate:modelValue"])]),a("td",no,[a("button",{type:"button",onClick:p=>_(t.id),class:"inline-block rounded-lg bg-red-600 px-2 py-1 text-base font-semibold leading-7 text-white shadow-sm ring-1 ring-red-600 hover:bg-red-700 hover:ring-red-700"},"Hapus",8,so)])]))),256))])])):K("",!0)])])])])],512),[[ie,n.purchases.details]])],64))}};export{co as default};

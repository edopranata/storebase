import{P as B,c as d,a as _,w as h,u as a,b as t,i as g,S,F as p,f as b,v as P,d as y,g as I,j as m,o as r,X as T,t as o,n as q,W as A}from"./app.1a1a22c1.js";import{_ as L,a as R}from"./Breadcrumb.856ee079.js";import{_ as $}from"./Pagination.d93b63bb.js";const C=t("title",null,"Laporan Aset",-1),G={class:"px-4 grid gap-4"},U={class:"grid"},j={class:"card w-full rounded-none border-2 border-info shadow-xl"},E={class:"card-body grid md:grid-cols-2 gap-4"},H={class:"grid grid-cols-3 gap-4"},K={class:"form-control w-full"},J=t("label",{class:"label"},[t("span",{class:"label-text"},"Kategori")],-1),O=t("option",{value:""},"Pilih Kategori",-1),W=["value"],X={class:"form-control w-full"},z=t("label",{class:"label"},[t("span",{class:"label-text"},"Per Halaman")],-1),Q=A('<option value="15">15</option><option value="25">25</option><option value="50">50</option><option value="75">75</option><option value="100">100</option>',5),Y=[Q],Z={class:"form-control w-full"},tt=t("label",{class:"label"},[t("span",{class:"label-text"},"Nama Produk")],-1),et={class:"pt-9 flex space-x-2"},st=["disabled"],ot=["href"],at=["href"],rt=t("div",{class:"hidden badge-primary badge-secondary badge badge-accent badge-ghost badge-info badge-error"},null,-1),nt={class:"card w-full rounded-none border-2 border-info shadow-xl"},lt={class:"card-body grid gap-4"},ct={class:"w-full text-left text-base"},dt=t("thead",{class:"text-sm uppercase bg-primary/20"},[t("tr",null,[t("th",{class:"py-3 px-6",rowspan:"2"},"#"),t("th",{class:"py-3 px-6",rowspan:"2"},"Barcode"),t("th",{class:"py-3 px-6",rowspan:"2"},"Nama Barang"),t("th",{class:"py-3 px-6 text-center border-b",colspan:"3"},"Stock"),t("th",{class:"py-3 px-6 text-center border-b",colspan:"3"},"Harga Jual")]),t("tr",null,[t("th",{class:"py-3 px-6"},"Gudang"),t("th",{class:"py-3 px-6"},"Toko"),t("th",{class:"py-3 px-6"},"Total"),t("th",{class:"py-3 px-6 text-right"},"Eceran"),t("th",{class:"py-3 px-6 text-right"},"Pelanggan"),t("th",{class:"py-3 px-6 text-right"},"Grosir")])],-1),it=["set"],pt={class:"hover:cursor-pointer group border-b"},ut={class:"group-hover:bg-base-300 py-4 px-6"},_t={class:"group-hover:bg-base-300 py-4 px-6"},ht={key:0,class:"badge badge-primary badge-md"},gt={class:"group-hover:bg-base-300 py-4 px-6"},bt=["set"],yt=["set"],mt=["set"],kt={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ft={class:"group-hover:bg-base-300 py-4 px-6 text-right"},vt={class:"group-hover:bg-base-300 py-4 px-6 text-right"},wt={class:"hidden"},xt={key:1},Dt={colspan:"9",class:"text-center border-b-2"},It={__name:"ReportStock",props:{per_pages:String,category_id:String,product_name:String,categories:Array,products:Object},setup(k){var f,v,w;const n=k,M=[{url:route("app.index"),label:"Beranda"},{url:route("app.report.index"),label:"Laporan"},{url:null,label:"Stok Produk"}],l=B({per_pages:(f=n.per_pages)!=null?f:"",category_id:(v=n.category_id)!=null?v:"",product_name:(w=n.product_name)!=null?w:""});return(e,i)=>(r(),d(p,null,[_(a(T),null,{default:h(()=>[C]),_:1}),_(R,{links:M}),_(L,{classes:"bg-base-content",class:""},{default:h(()=>[y("Laporan Aset")]),_:1}),t("section",G,[t("div",U,[t("div",j,[t("div",E,[t("div",H,[t("div",K,[J,g(t("select",{"onUpdate:modelValue":i[0]||(i[0]=s=>a(l).category_id=s),class:"select select-bordered rounded-none"},[O,(r(!0),d(p,null,b(k.categories,s=>(r(),d("option",{value:s.id},o(s.text),9,W))),256))],512),[[S,a(l).category_id]])]),t("div",X,[z,g(t("select",{"onUpdate:modelValue":i[1]||(i[1]=s=>a(l).per_pages=s),class:"select select-bordered rounded-none"},Y,512),[[S,a(l).per_pages]])]),t("div",Z,[tt,g(t("input",{"onUpdate:modelValue":i[2]||(i[2]=s=>a(l).product_name=s),class:"input input-bordered rounded-none"},null,512),[[P,a(l).product_name]])])]),t("div",et,[t("button",{disabled:a(l).processing,type:"submit",onClick:i[3]||(i[3]=s=>a(l).get(e.route("app.report.stock.index"))),class:"btn btn-primary"},"Tampilkan",8,st),t("a",{href:e.route("app.report.stock.show","download"),target:"_blank",class:"btn btn-secondary"},"Download All",8,ot),t("a",{href:e.route("app.report.stock.show",{stock:"download",_query:{category_id:a(l).category_id}}),target:"_blank",class:"btn btn-secondary"},"Download Filter",8,at)])])])]),rt,t("div",nt,[t("div",lt,[t("table",ct,[dt,t("tbody",null,[n.products.data.length?(r(!0),d(p,{key:0},b(n.products.data,(s,V)=>{var x,D,N,F;return r(),d(p,null,[t("tr",{class:"hidden",set:e.current={warehouse_stock:(x=s.warehouse_stock)!=null?x:0,store_stock:(D=s.store_stock)!=null?D:0,total_stock:((N=s.warehouse_stock)!=null?N:0)+((F=s.store_stock)!=null?F:0)}},null,8,it),(r(!0),d(p,null,b(s.prices,(c,u)=>(r(),d("tr",pt,[t("th",ut,o(u?"":n.products.from+V),1),t("td",_t,[u?m("",!0):(r(),d("div",ht,o(s.barcode),1))]),t("td",gt,o(u?"":s.name),1),t("td",{class:"group-hover:bg-base-300 py-4 px-6",set:e.warehouse_stock=e.current.warehouse_stock/c.quantity},o(Math.floor(e.warehouse_stock)+" "+c.unit.name),9,bt),t("td",{class:"group-hover:bg-base-300 py-4 px-6",set:e.store_stock=e.current.store_stock/c.quantity},o(Math.floor(e.store_stock)+" "+c.unit.name),9,yt),t("td",{class:"group-hover:bg-base-300 py-4 px-6",set:e.total_stock=e.current.total_stock/c.quantity},o(Math.floor(e.total_stock)+" "+c.unit.name),9,mt),t("td",kt,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(c.sell_price)),1),t("td",ft,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(c.customer_price)),1),t("td",vt,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(c.wholesale_price)),1),t("td",wt,o(e.current.warehouse_stock=e.current.warehouse_stock-Math.floor(e.warehouse_stock))+" "+o(e.current.store_stock=e.current.store_stock-Math.floor(e.store_stock))+" "+o(e.current.total_stock=e.current.total_stock-Math.floor(e.total_stock)),1)]))),256))],64)}),256)):(r(),d("tr",xt,[t("td",Dt,[y("No Data "),n.products.current_page>1?(r(),I(a(q),{key:0,class:"link link-primary",href:e.route("app.report.asset.index")},{default:h(()=>[y("Goto First Page")]),_:1},8,["href"])):m("",!0)])]))])]),n.products.data.length?(r(),I($,{key:0,links:n.products.links},null,8,["links"])):m("",!0)])])])],64))}};export{It as default};

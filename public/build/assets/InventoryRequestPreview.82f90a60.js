import{M as I,P as m,A as _,C as D,c as o,a as u,w as x,u as w,b as t,F as n,f as h,o as c,X as F,d as N,t as e,j as P,T as y}from"./app.1a1a22c1.js";import"./multiselect.60bed9db.js";import{_ as B,a as R}from"./Breadcrumb.856ee079.js";const T=t("title",null,"Inventory Product",-1),k={class:"px-2 grid gap-4 mt-4"},q={class:"grid"},V={class:"card w-full rounded-none border-2 border-info shadow-xl"},C={class:"card-body"},M={class:"w-full text-left text-base min-w-4xl"},Q=t("thead",{class:"text-sm uppercase bg-primary/40"},[t("tr",null,[t("th",{class:"py-3 px-6"},"#"),t("th",{class:"py-3 px-6"},"Product"),t("th",{class:"py-3 px-6"},"Jumlah Beli"),t("th",{class:"py-3 px-6"},"Qty Terkecil"),t("th",{class:"py-3 px-6 text-right"},"Harga Modal"),t("th",{class:"py-3 px-6 text-right"},"Total")])],-1),S={class:"hover:cursor-pointer"},j={class:"group-hover:bg-base-300 py-2 px-4"},H={class:"group-hover:bg-base-300 py-2 px-4"},$={class:"group-hover:bg-base-300 py-2 px-4"},A={class:"group-hover:bg-base-300 py-2 px-4"},E={class:"group-hover:bg-base-300 py-2 px-4 text-right"},J={class:"group-hover:bg-base-300 py-2 px-4 text-right"},L=t("tr",{class:"text-xs"},[t("td",{class:"bg-primary/20 px-4 text-sm"}),t("td",{class:"bg-primary/20 px-4 text-sm text-right"},"Supplier"),t("td",{class:"bg-primary/20 px-4 text-sm"},"Qty Beli"),t("td",{class:"bg-primary/20 px-4 text-sm"},"Qty Sisa"),t("td",{class:"bg-primary/20 px-4 text-sm text-right"},"Harga Beli"),t("td",{class:"bg-primary/20 px-4 text-sm text-right"},"Total")],-1),O={key:0,class:"text-xs"},X=t("td",{class:"bg-primary/10 px-4 text-sm"},null,-1),z={class:"bg-primary/10 px-4 text-sm text-right"},G={class:"bg-primary/10 px-4 text-sm"},K={class:"bg-primary/10 px-4 text-sm"},U={class:"bg-primary/10 px-4 text-sm text-right"},W={class:"bg-primary/10 px-4 text-sm text-right"},et={__name:"InventoryRequestPreview",props:{purchases:Object},setup(b){const i=b,g=[{url:route("app.index"),label:"Beranda"},{url:route("app.inventory.index"),label:"Inventory"},{url:route("app.inventory.request.index"),label:"Inventory Product"},{url:null,label:"Preview"}];I({data:i.purchases});const f=m({id:""}),d=m({purchase_id:i.purchases.id,bill:"",payment:"",fund:""});_(()=>y.cloneDeep(f.id),(r,p)=>{r&&addProduct(r)}),_(()=>y.cloneDeep(d),(r,p)=>{r&&(d.fund=r.bill-r.payment)});const v=r=>{let p=r.details.reduce((s,l)=>(s.push(l.total),s),[]);d.bill=p.reduce((s,l)=>s+=l,0)};return D(()=>{v(i.purchases)}),(r,p)=>(c(),o(n,null,[u(w(F),null,{default:x(()=>[T]),_:1}),u(R,{links:g}),u(B,{classes:"bg-base-content",class:""},{default:x(()=>[N("Inventory Product")]),_:1}),t("section",k,[t("div",q,[t("div",V,[t("div",C,[t("table",M,[Q,t("tbody",null,[(c(!0),o(n,null,h(i.purchases.details,(s,l)=>(c(),o(n,null,[t("tr",S,[t("td",j,e(l+1),1),t("td",H,e(s.product_name),1),t("td",$,e(s.quantity+" "+s.price.unit.name),1),t("td",A,e(s.product_price_quantity+" "+s.product.unit.name),1),t("td",E,e(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.buying_price)),1),t("td",J,e(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.total)),1)]),L,(c(!0),o(n,null,h(s.product.stocks,(a,Y)=>(c(),o(n,null,[a.available_stock?(c(),o("tr",O,[X,t("td",z,[t("span",null,e(a.supplier.name),1)]),t("td",G,e(a.first_stock),1),t("td",K,e(a.available_stock),1),t("td",U,e(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:2}).format(a.buying_price)),1),t("td",W,e(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:2}).format(a.total)),1)])):P("",!0)],64))),256))],64))),256))])])])])])])],64))}};export{et as default};
